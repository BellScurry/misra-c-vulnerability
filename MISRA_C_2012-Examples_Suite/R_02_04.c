/*
 * Release: 2014-01-13
 *
 * Example from MISRA C:2012 ( THIS IS NOT A TEST SUITE )
 *
 * Copyright MIRA Limited.
 *
 * See file READ_ME.txt for full copyright, license and release instructions.
 */

/*
 * R.2.4
 *
 * A project should not contain unused tag declarations
 */


#include "mc3_types.h"
#include "mc3_header.h"

static void unusedtag ( void )
{
   enum state
   {
      S_init, S_run, S_sleep
   }; /* Non-compliant */

   use_int32 ( 3 );
}


typedef struct record_t  /* Non-compliant */
{
  uint16_t key;
  uint16_t val;
} record1_t;

typedef struct  /* Compliant */
{ uint16_t key;
  uint16_t val;
} record2_t;

static void use_recordtypes ( void )
{
   record1_t r1 = {3U, 2U};
   record2_t r2 = {4U, 5U};

   use_uint16( r1.key + r1.val + r2.key + r2.val );
}

void R_2_4 ( void )
{
   use_recordtypes ( );
   unusedtag  ();
}

/* end of R_02_04.c */
