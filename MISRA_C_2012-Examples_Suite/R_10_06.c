/*
 * Release: 2014-01-13
 *
 * Example from MISRA C:2012 ( THIS IS NOT A TEST SUITE )
 *
 * Copyright MIRA Limited.
 *
 * See file READ_ME.txt for full copyright, license and release instructions.
 */

/*
 * R.10.6
 *
 * The value of a composite expression shall not be assigned to an object with 
 * wider essential type
 */

#include "mc3_types.h"
#include "mc3_header.h"

void R_10_6 ( void )
{
   uint16_t u16a = get_uint16 ( );
   uint16_t u16b = get_uint16 ( );
   uint16_t u16c;

   uint32_t u32a;

   u16c = u16a + u16b;              /* Same essential type */
   use_uint16 ( u16c );
   u32a = ( uint32_t ) u16a + u16b; /* Cast causes addition in uint32_t */
   use_uint32 ( u32a );

   u32a = u16a + u16b;               /* Non-compliant - Implicit conversion on assignment  */
   use_uint32 ( u32a );
   use_uint32 ( u16a + u16b );       /* Non-compliant - Implicit conversion of fn argument */

}

/* end of R_10_06.c */
