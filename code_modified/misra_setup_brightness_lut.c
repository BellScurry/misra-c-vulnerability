#include "susan.h"

/****   MISRA C ****/
void misra_setup_brightness_lut(unsigned char *buffptr, int thresh, int form) {

    /**  buffptr: fixed size (516) array */
    int   j;        //  j <- (k+258)
    float temp;

   for (j=2 ; j < 515 ; j++) {

        temp = ((float)(j-258)) / ((float)thresh);
        temp = temp * temp;
        if (form == 6)
            temp = temp * temp * temp;
 
        temp = 100.0 * exp(-temp);
        *(buffptr+j) = (unsigned char)temp;
    }   
}
