#ifndef PPC
typedef int        TOTAL_TYPE; /* this is faster for "int" but should be "float" for large d masks */
#else
typedef float      TOTAL_TYPE; /* for my PowerPC accelerator only */
#endif

/*#define FOPENB*/           /* uncomment if using djgpp gnu C for DOS or certain Win95 compilers */
#define SEVEN_SUPP           /* size for non-max corner suppression; SEVEN_SUPP or FIVE_SUPP */
#define MAX_CORNERS   15000  /* max corners per frame */

/* ********** Leave the rest - but you may need to remove one or both of sys/file.h and malloc.h lines */

#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <sys/file.h>    /* may want to remove this line */
#include <malloc.h>      /* may want to remove this line */
#define  exit_error(IFB,IFC) { fprintf(stderr,IFB,IFC); exit(0); }
#define  FTOI(a) ( (a) < 0 ? ((int)(a-0.5)) : ((int)(a+0.5)) )
typedef  struct {int x,y,info, dx, dy, I;} CORNER_LIST[MAX_CORNERS];

/****   MiBench Function List 1 : NOT Modified   ****/
int getint(FILE *fd);

/****   MiBench Function List 2 : Comparison with MISRA C code   ****/
void get_image(char filename[200], unsigned char **in, int *x_size, int *y_size);
void setup_brightness_lut(unsigned char **bp, int thresh, int form);
void susan_smoothing(int three_by_three, unsigned char *in, float dt, int x_size, int y_size, unsigned char *bp);
void susan_corners(unsigned char *in, int *r, unsigned char *bp, int max_no, CORNER_LIST corner_list, int x_size, int y_size);

/****   MISRA C Function List   ****/    
void misrac_setup_brightness_lut(unsigned char *buffptr, int thresh, int form);
void misrac_get_image(char *filename, unsigned char **in, int *x_size, int *y_size);
void misrac_susan_smoothing(int three_by_three, unsigned char *in, float dt, int x_size, int y_size, unsigned char *bp);
void misrac_susan_corners(unsigned char *in, int *r, unsigned char *bp, int max_no, CORNER_LIST corner_list, int x_size, int y_size);
