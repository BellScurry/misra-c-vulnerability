source= forloop.c whileloop.c goto.c
assembly= forloop_o0.s whileloop_o0.s goto_o0.s \
		  forloop_o1.s whileloop_o1.s goto_o1.s \
		  forloop_o2.s whileloop_o2.s goto_o2.s \
		  forloop_o3.s whileloop_o3.s goto_o3.s
binary= forloop_o0 whileloop_o0 goto_o0 \
		forloop_o1 whileloop_o1 goto_o1 \
		forloop_o2 whileloop_o2 goto_o2 \
		forloop_o3 whileloop_o3 goto_o3

all: $(assembly)

%_o0: %.c
	gcc -O0 $< -o $@
%_o1: %.c
	gcc -O1 $< -o $@
%_o2: %.c
	gcc -O2 $< -o $@
%_o3: %.c
	gcc -O3 $< -o $@
%.s: %
	objdump -d $< > $@
clean:
	rm $(assembly) $(binary)
