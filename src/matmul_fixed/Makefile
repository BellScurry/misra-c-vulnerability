CC= arm-linux-gnueabi-gcc
CFLAGS= -static -O0
source= matmul_fixed.c
dump= arm-linux-gnueabi-objdump
all:
	 $(CC) $(CFLAGS) $(source)           -D_ALLOC_SIZE=10000 -o matmul_fixed_10000_normal
	 $(CC) $(CFLAGS) $(source) -D_MISRAC -D_ALLOC_SIZE=10000 -o matmul_fixed_10000_misrac
	 $(dump) -d matmul_fixed_10000_normal > matmul_fixed_10000_normal.s
	 $(dump) -d matmul_fixed_10000_misrac > matmul_fixed_10000_misrac.s
clean:
	 rm *_normal *_misrac *.s *.txt