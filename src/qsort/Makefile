all: validation large normal efficient

# To ignore errors in a recipe line,
# write a ‘-’ at the beginning of the line’s text (after the initial tab).
# The ‘-’ is discarded before the line is passed to the shell for execution.
validation: large normal efficient
	 diff -sq qsort_large.main.arm qsort_nor.main.arm
	-diff -sq qsort_nor.main.arm   qsort_eff.main.arm
large:
	arm-linux-gnueabi-gcc -static qsort_large.c -o qsort_large -lm
	arm-linux-gnueabi-objdump -d qsort_large > qsort_large.arm
	python3 ../../script/parse_binary.py qsort_large.arm qsort_large.main.arm
normal:
	arm-linux-gnueabi-gcc -static qsort.c -o qsort_nor -lm
	arm-linux-gnueabi-objdump -d qsort_nor > qsort_nor.arm
	python3 ../../script/parse_binary.py qsort_nor.arm qsort_nor.main.arm
efficient:
	arm-linux-gnueabi-gcc -static -D_EFF qsort.c -o qsort_eff -lm
	arm-linux-gnueabi-objdump -d qsort_eff > qsort_eff.arm 
	python3 ../../script/parse_binary.py qsort_eff.arm qsort_eff.main.arm
clean:
	rm qsort_large qsort_eff qsort_nor *.arm *.diff
