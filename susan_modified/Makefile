executable= susan_normal_arm susan_misrac_arm susan_normal_x86 susan_misrac_x86

susan: susan.c
	arm-linux-gnueabi-gcc -static -O3 -o susan_normal_arm susan.c -lm
	arm-linux-gnueabi-gcc -static -O3 -D_MISRA_C -o susan_misrac_arm susan.c -lm
	gcc -static -O3 -o susan_normal_x86 susan.c -lm 
	gcc -static -O3 -D_MISRA_C -o susan_misrac_x86 susan.c -lm 
	diff -s susan.ground susan_normal_x86   # Must be identical

clean:
	rm -rf $(executable) output*
